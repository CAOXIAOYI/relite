/*!
 * relite.js v0.1.0
 * (c) 2016 Jade Gu
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Relite=e()}(this,function(){"use strict";function t(t){var e=t.name,n=void 0===e?"ROOT":e,o=function(t){var e=t.actionType,o=t.actionPayload,r=t.previousState,a=t.currentState,u=t.start,l=(t.end,u.getHours()+":"+i(u.getMinutes())+":"+i(u.getSeconds())),f=(getTime()-timeStore[key]).toFixed(2),s=n+": action-type ["+e+"] @ "+l+" in "+f+"ms";try{console.groupCollapsed(s)}catch(t){try{console.group(s)}catch(t){console.log(s)}}"log"===c?(console[c](o),console[c](r),console[c](a)):(console[c]("%c action-payload","color: #03A9F4; font-weight: bold",o),console[c]("%c prev-state","color: #9E9E9E; font-weight: bold",r),console[c]("%c next-state","color: #4CAF50; font-weight: bold",a));try{console.groupEnd()}catch(t){console.log("-- log end --")}};return o}function e(t){return"function"==typeof t}function n(t){return null!=t&&e(t.then)}function o(t){return"[object Object]"===Object.prototype.toString.call(t)}function r(t,r){if(!o(t))throw new Error("Expected first argument to be an object");var c=[],i=function(t){return c.push(t),function(){var e=c.indexOf(t);e!==-1&&c.splice(e,1)}},a=r,u=function(){return a},l=function(t,e,n){a=t,n||c.forEach(function(t){return t(e)})},f=!1,s=function(e,o){if(f)throw new Error("store.dispatch(actionType, actionPayload): handler may not dispatch");var r=new Date;try{f=!0,nextState=t[e](a,o)}finally{f=!1}if(nextState===a)return a;var c=function(t){return l(t,{start:r,end:new Date,actionType:e,actionPayload:o,previousState:a,currentState:t}),t};return n(nextState)?nextState.then(c):c(nextState)},d=Object.keys(t).reduce(function(n,o){return e(t[o])&&(n[o]=function(t){return s(o,t)}),n},{});return{getState:u,replaceState:l,dispatch:s,actions:d,subscribe:i}}var c="info"in console?"info":"log",i=function(t){return("0"+t).slice(-2)},a={createStore:r,createLogger:t};return a});